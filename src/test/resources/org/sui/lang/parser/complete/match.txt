FILE
  MvModuleImpl(MODULE)
    PsiElement(module)('module')
    PsiWhiteSpace(' ')
    MvAddressRefImpl(ADDRESS_REF)
      PsiElement(DIEM_ADDRESS)('0x1')
    PsiElement(::)('::')
    PsiElement(IDENTIFIER)('test_match')
    PsiWhiteSpace(' ')
    PsiElement({)('{')
    PsiWhiteSpace('\n    ')
    MvEnumImpl(ENUM)
      PsiElement(enum_kw)('enum')
      PsiWhiteSpace(' ')
      PsiElement(IDENTIFIER)('Color')
      PsiWhiteSpace(' ')
      MvEnumBodyImpl(ENUM_BODY)
        PsiElement({)('{')
        PsiWhiteSpace('\n        ')
        MvEnumVariantImpl(ENUM_VARIANT)
          PsiElement(IDENTIFIER)('Red')
        PsiElement(,)(',')
        PsiWhiteSpace('\n        ')
        MvEnumVariantImpl(ENUM_VARIANT)
          PsiElement(IDENTIFIER)('Green')
        PsiElement(,)(',')
        PsiWhiteSpace('\n        ')
        MvEnumVariantImpl(ENUM_VARIANT)
          PsiElement(IDENTIFIER)('Blue')
        PsiElement(,)(',')
        PsiWhiteSpace('\n    ')
        PsiElement(})('}')
    PsiWhiteSpace('\n\n    ')
    MvEnumImpl(ENUM)
      PsiElement(enum_kw)('enum')
      PsiWhiteSpace(' ')
      PsiElement(IDENTIFIER)('Option')
      MvTypeParameterListImpl(TYPE_PARAMETER_LIST)
        PsiElement(<)('<')
        MvTypeParameterImpl(TYPE_PARAMETER)
          PsiElement(IDENTIFIER)('T')
        PsiElement(>)('>')
      PsiWhiteSpace(' ')
      MvEnumBodyImpl(ENUM_BODY)
        PsiElement({)('{')
        PsiWhiteSpace('\n        ')
        MvEnumVariantImpl(ENUM_VARIANT)
          PsiElement(IDENTIFIER)('Some')
          MvTupleFieldsImpl(TUPLE_FIELDS)
            PsiElement(()('(')
            MvTupleFieldDeclImpl(TUPLE_FIELD_DECL)
              MvPathTypeImpl(PATH_TYPE)
                MvPathImpl(PATH)
                  PsiElement(IDENTIFIER)('T')
            PsiElement())(')')
        PsiElement(,)(',')
        PsiWhiteSpace('\n        ')
        MvEnumVariantImpl(ENUM_VARIANT)
          PsiElement(IDENTIFIER)('None')
        PsiElement(,)(',')
        PsiWhiteSpace('\n    ')
        PsiElement(})('}')
    PsiWhiteSpace('\n\n    ')
    MvFunctionImpl(FUNCTION)
      PsiElement(fun)('fun')
      PsiWhiteSpace(' ')
      PsiElement(IDENTIFIER)('test_color_match')
      MvFunctionParameterListImpl(FUNCTION_PARAMETER_LIST)
        PsiElement(()('(')
        MvFunctionParameterImpl(FUNCTION_PARAMETER)
          MvPatBindingImpl(PAT_BINDING)
            PsiElement(IDENTIFIER)('c')
          MvTypeAnnotationImpl(TYPE_ANNOTATION)
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            MvPathTypeImpl(PATH_TYPE)
              MvPathImpl(PATH)
                PsiElement(IDENTIFIER)('Color')
        PsiElement())(')')
      MvReturnTypeImpl(RETURN_TYPE)
        PsiElement(:)(':')
        PsiWhiteSpace(' ')
        MvPathTypeImpl(PATH_TYPE)
          MvPathImpl(PATH)
            PsiElement(IDENTIFIER)('u8')
      PsiWhiteSpace(' ')
      MvCodeBlockImpl(CODE_BLOCK)
        PsiElement({)('{')
        PsiWhiteSpace('\n        ')
        MvMatchExprImpl(MATCH_EXPR)
          PsiElement(match_kw)('match')
          PsiWhiteSpace(' ')
          MvPathExprImpl(PATH_EXPR)
            MvPathImpl(PATH)
              PsiElement(IDENTIFIER)('c')
          PsiWhiteSpace(' ')
          MvMatchBodyImpl(MATCH_BODY)
            PsiElement({)('{')
            PsiWhiteSpace('\n            ')
            MvMatchArmImpl(MATCH_ARM)
              MvMatchPatImpl(MATCH_PAT)
                MvPatConstImpl(PAT_CONST)
                  MvPathExprImpl(PATH_EXPR)
                    MvPathImpl(PATH)
                      MvPathImpl(PATH)
                        PsiElement(IDENTIFIER)('Color')
                      PsiElement(::)('::')
                      PsiElement(IDENTIFIER)('Red')
              PsiWhiteSpace(' ')
              PsiElement(=>)('=>')
              PsiWhiteSpace(' ')
              MvLitExprImpl(LIT_EXPR)
                PsiElement(INTEGER_LITERAL)('0')
              PsiElement(,)(',')
            PsiWhiteSpace('\n            ')
            MvMatchArmImpl(MATCH_ARM)
              MvMatchPatImpl(MATCH_PAT)
                MvPatConstImpl(PAT_CONST)
                  MvPathExprImpl(PATH_EXPR)
                    MvPathImpl(PATH)
                      MvPathImpl(PATH)
                        PsiElement(IDENTIFIER)('Color')
                      PsiElement(::)('::')
                      PsiElement(IDENTIFIER)('Green')
              PsiWhiteSpace(' ')
              PsiElement(=>)('=>')
              PsiWhiteSpace(' ')
              MvLitExprImpl(LIT_EXPR)
                PsiElement(INTEGER_LITERAL)('1')
              PsiElement(,)(',')
            PsiWhiteSpace('\n            ')
            MvMatchArmImpl(MATCH_ARM)
              MvMatchPatImpl(MATCH_PAT)
                MvPatConstImpl(PAT_CONST)
                  MvPathExprImpl(PATH_EXPR)
                    MvPathImpl(PATH)
                      MvPathImpl(PATH)
                        PsiElement(IDENTIFIER)('Color')
                      PsiElement(::)('::')
                      PsiElement(IDENTIFIER)('Blue')
              PsiWhiteSpace(' ')
              PsiElement(=>)('=>')
              PsiWhiteSpace(' ')
              MvLitExprImpl(LIT_EXPR)
                PsiElement(INTEGER_LITERAL)('2')
              PsiElement(,)(',')
            PsiWhiteSpace('\n        ')
            PsiElement(})('}')
        PsiWhiteSpace('\n    ')
        PsiElement(})('}')
    PsiWhiteSpace('\n\n    ')
    MvFunctionImpl(FUNCTION)
      PsiElement(fun)('fun')
      PsiWhiteSpace(' ')
      PsiElement(IDENTIFIER)('test_option_match')
      MvFunctionParameterListImpl(FUNCTION_PARAMETER_LIST)
        PsiElement(()('(')
        MvFunctionParameterImpl(FUNCTION_PARAMETER)
          MvPatBindingImpl(PAT_BINDING)
            PsiElement(IDENTIFIER)('opt')
          MvTypeAnnotationImpl(TYPE_ANNOTATION)
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            MvPathTypeImpl(PATH_TYPE)
              MvPathImpl(PATH)
                PsiElement(IDENTIFIER)('Option')
                MvTypeArgumentListImpl(TYPE_ARGUMENT_LIST)
                  PsiElement(<)('<')
                  MvTypeArgumentImpl(TYPE_ARGUMENT)
                    MvPathTypeImpl(PATH_TYPE)
                      MvPathImpl(PATH)
                        PsiElement(IDENTIFIER)('u8')
                  PsiElement(>)('>')
        PsiElement())(')')
      MvReturnTypeImpl(RETURN_TYPE)
        PsiElement(:)(':')
        PsiWhiteSpace(' ')
        MvPathTypeImpl(PATH_TYPE)
          MvPathImpl(PATH)
            PsiElement(IDENTIFIER)('u8')
      PsiWhiteSpace(' ')
      MvCodeBlockImpl(CODE_BLOCK)
        PsiElement({)('{')
        PsiWhiteSpace('\n        ')
        MvMatchExprImpl(MATCH_EXPR)
          PsiElement(match_kw)('match')
          PsiWhiteSpace(' ')
          MvPathExprImpl(PATH_EXPR)
            MvPathImpl(PATH)
              PsiElement(IDENTIFIER)('opt')
          PsiWhiteSpace(' ')
          MvMatchBodyImpl(MATCH_BODY)
            PsiElement({)('{')
            PsiWhiteSpace('\n            ')
            MvMatchArmImpl(MATCH_ARM)
              MvMatchPatImpl(MATCH_PAT)
                MvPatImpl(PAT)
                  MvEnumVariantPatImpl(ENUM_VARIANT_PAT)
                    MvPathImpl(PATH)
                      MvPathImpl(PATH)
                        PsiElement(IDENTIFIER)('Option')
                      PsiElement(::)('::')
                      PsiElement(IDENTIFIER)('Some')
                    PsiElement(()('(')
                    MvPatBindingImpl(PAT_BINDING)
                      PsiElement(IDENTIFIER)('x')
                    PsiElement())(')')
              PsiWhiteSpace(' ')
              PsiElement(=>)('=>')
              PsiWhiteSpace(' ')
              MvPathExprImpl(PATH_EXPR)
                MvPathImpl(PATH)
                  PsiElement(IDENTIFIER)('x')
              PsiElement(,)(',')
            PsiWhiteSpace('\n            ')
            MvMatchArmImpl(MATCH_ARM)
              MvMatchPatImpl(MATCH_PAT)
                MvPatConstImpl(PAT_CONST)
                  MvPathExprImpl(PATH_EXPR)
                    MvPathImpl(PATH)
                      MvPathImpl(PATH)
                        PsiElement(IDENTIFIER)('Option')
                      PsiElement(::)('::')
                      PsiElement(IDENTIFIER)('None')
              PsiWhiteSpace(' ')
              PsiElement(=>)('=>')
              PsiWhiteSpace(' ')
              MvLitExprImpl(LIT_EXPR)
                PsiElement(INTEGER_LITERAL)('0')
              PsiElement(,)(',')
            PsiWhiteSpace('\n        ')
            PsiElement(})('}')
        PsiWhiteSpace('\n    ')
        PsiElement(})('}')
    PsiWhiteSpace('\n\n    ')
    MvFunctionImpl(FUNCTION)
      PsiElement(fun)('fun')
      PsiWhiteSpace(' ')
      PsiElement(IDENTIFIER)('test_match_with_guard')
      MvFunctionParameterListImpl(FUNCTION_PARAMETER_LIST)
        PsiElement(()('(')
        MvFunctionParameterImpl(FUNCTION_PARAMETER)
          MvPatBindingImpl(PAT_BINDING)
            PsiElement(IDENTIFIER)('x')
          MvTypeAnnotationImpl(TYPE_ANNOTATION)
            PsiElement(:)(':')
            PsiWhiteSpace(' ')
            MvPathTypeImpl(PATH_TYPE)
              MvPathImpl(PATH)
                PsiElement(IDENTIFIER)('u8')
        PsiElement())(')')
      MvReturnTypeImpl(RETURN_TYPE)
        PsiElement(:)(':')
        PsiWhiteSpace(' ')
        MvPathTypeImpl(PATH_TYPE)
          MvPathImpl(PATH)
            PsiElement(IDENTIFIER)('bool')
      PsiWhiteSpace(' ')
      MvCodeBlockImpl(CODE_BLOCK)
        PsiElement({)('{')
        PsiWhiteSpace('\n        ')
        MvExprStmtImpl(EXPR_STMT)
          MvMatchExprImpl(MATCH_EXPR)
            PsiElement(match_kw)('match')
            PsiWhiteSpace(' ')
            MvPathExprImpl(PATH_EXPR)
              MvPathImpl(PATH)
                PsiElement(IDENTIFIER)('x')
            PsiWhiteSpace(' ')
            MvMatchBodyImpl(MATCH_BODY)
              PsiElement({)('{')
              PsiWhiteSpace('\n            ')
              PsiElement(INTEGER_LITERAL)('0')
              PsiWhiteSpace(' ')
              PsiErrorElement:'::' expected, got '=>'
                PsiElement(=>)('=>')
              PsiErrorElement:<match arm> expected, got 'true'
                <empty list>
        PsiWhiteSpace(' ')
        MvExprStmtImpl(EXPR_STMT)
          MvLitExprImpl(LIT_EXPR)
            PsiElement(BOOL_LITERAL)('true')
          PsiErrorElement:<operator>, '=' or '[' expected, got ','
            PsiElement(,)(',')
        PsiWhiteSpace('\n            ')
        MvExprStmtImpl(EXPR_STMT)
          MvPathExprImpl(PATH_EXPR)
            MvPathImpl(PATH)
              PsiElement(IDENTIFIER)('n')
          PsiErrorElement:';' expected, got 'if'
            <empty list>
        PsiWhiteSpace(' ')
        MvExprStmtImpl(EXPR_STMT)
          MvIfExprImpl(IF_EXPR)
            PsiElement(if)('if')
            PsiErrorElement:'(' expected, got 'n'
              <empty list>
            PsiWhiteSpace(' ')
            MvInlineBlockImpl(INLINE_BLOCK)
              MvBinaryExprImpl(BINARY_EXPR[>])
                MvPathExprImpl(PATH_EXPR)
                  MvPathImpl(PATH)
                    PsiElement(IDENTIFIER)('n')
                PsiWhiteSpace(' ')
                MvBinaryOpImpl(BINARY_OP)
                  PsiElement(>)('>')
                PsiWhiteSpace(' ')
                MvLitExprImpl(LIT_EXPR)
                  PsiElement(INTEGER_LITERAL)('5')
          PsiWhiteSpace(' ')
          PsiErrorElement:'::', <operator>, '=', '[' or else expected, got '=>'
            PsiElement(=>)('=>')
        PsiWhiteSpace(' ')
        MvExprStmtImpl(EXPR_STMT)
          MvLitExprImpl(LIT_EXPR)
            PsiElement(BOOL_LITERAL)('true')
          PsiErrorElement:<operator>, '=' or '[' expected, got ','
            PsiElement(,)(',')
        PsiWhiteSpace('\n            ')
        MvExprStmtImpl(EXPR_STMT)
          MvPathExprImpl(PATH_EXPR)
            MvPathImpl(PATH)
              PsiElement(IDENTIFIER)('_')
          PsiWhiteSpace(' ')
          PsiErrorElement:'::', <operator>, <type arguments>, '=', '[' or '{' expected, got '=>'
            PsiElement(=>)('=>')
        PsiWhiteSpace(' ')
        MvLitExprImpl(LIT_EXPR)
          PsiElement(BOOL_LITERAL)('false')
        PsiErrorElement:<operator>, '=' or '[' expected, got ','
          PsiElement(,)(',')
        PsiWhiteSpace('\n        ')
        PsiElement(})('}')
    PsiWhiteSpace('\n    ')
    PsiElement(})('}')
  PsiWhiteSpace('\n')
  PsiErrorElement:<module declaration>, <module spec declaration> or script_kw expected, got '}'
    PsiElement(})('}')